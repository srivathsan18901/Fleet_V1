<div class="sidenavbar">
  <div id="container">
    <!-- Sidebar -->
    <!-- <app-sidenavbar></app-sidenavbar> -->
    <app-loader></app-loader>
    <!-- <p-toast></p-toast> -->

    <!-- loader -->
    <div *ngIf="editLoader" class="edit-loader">
      <div *ngIf="editLoader" class="loader-background">
        <div class="middle">
          <div class="bar bar1"></div>
          <div class="bar bar2"></div>
          <div class="bar bar3"></div>
          <div class="bar bar4"></div>
          <div class="bar bar5"></div>
          <div class="bar bar6"></div>
          <div class="bar bar7"></div>
          <div class="bar bar8"></div>
        </div>
      </div>
    </div>
    <div class="mainContent">
      <div class="header-section">
        <h1 class="header-title">{{ activeHeader }}</h1>
        <div class="subheader-container">
          <div class="subheader-text">
            {{ getTranslation("Create and Edit Configuration") }}
          </div>
          <img
            src="../../assets/icons/i-icon.svg"
            alt="Icon"
            class="subheader-icon"
          />
        </div>
      </div>

      <div class="search-date-container" *ngIf="activeButton !== 'fleet'">
        <!-- Search Bar -->
        <div class="search-filter-container">
          <div class="search-box">
            <input
              type="text"
              maxlength="250"
              (input)="onSearch($event)"
              placeholder="{{ getTranslation('Search for Something...') }}"
              class="search-input"
              [(ngModel)]="searchTerm"
              (ngModelChange)="searchTermChanged()"
            />
            <button class="search-btn">
              <img
                src="../../assets/icons/download-removebg-preview.png"
                alt="Search"
              />
            </button>
          </div>
        </div>
        <!-- simulation -->
        <!-- robots.component.html -->

        <div
          class="simulation-container"
          *ngIf="
            currentTable === 'robot' &&
            configurationPermissions.robot.enabled === true &&
            configurationPermissions.robot.create == true
          "
        >
          <button
            class="simulation-button"
            (click)="togglePopup()"
            [class.disabled]="!isMapAvailable()"
            [disabled]="!isMapAvailable()"
          >
            {{ getTranslation("Simulation") }}
          </button>
        </div>

        <!-- Popup for selecting robots -->
        <div *ngIf="isPopupVisible" class="sim-popup-modal">
          <div class="sim-popup-content">
            <h3>{{ getTranslation("Enter the Robots for Simulation") }}</h3>
            <div>
              <label for="robots">{{
                getTranslation("Number of Robots:")
              }}</label>

              <input
                type="number"
                [(ngModel)]="robotCount"
                id="robots"
                placeholder="Enter number of robots"
                min="1"
              />
            </div>
            <h4 *ngIf="robotCountError" class="error-message">
              No Robots Added
            </h4>

            <div class="sim-button-container">
              <button (click)="addRobot()">{{ getTranslation("Add") }}</button>
              <!-- <button (click)="closePopup()">Cancel</button> -->

              <button class="close-popup-btn" (click)="closePopup()">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  width="20"
                  height="20"
                  class="fill-current text-red-500"
                >
                  <path fill="none" d="M0 0h24v24H0z" />
                  <path
                    d="M12 10.586l4.95-4.95 1.414 1.414L13.414 12l4.95 4.95-1.414 1.414L12 13.414l-4.95 4.95-1.414-1.414L10.586 12 5.636 7.05l1.414-1.414L12 10.586z"
                  />
                </svg>
              </button>

              <button (click)="clearAllRobots()">
                {{ getTranslation("Delete All") }}
              </button>
            </div>

            <div *ngIf="totalRobots > 0">
              <ul>
                <li *ngFor="let robot of simRobos">
                  {{ robot.roboName }}
                  <button (click)="deleteRobot(robot.amrId)">Delete</button>
                </li>
              </ul>
            </div>

            <p>{{ getTranslation("Total Robots") }}: {{ totalRobots }}</p>
          </div>
        </div>
        <!-- Date Filter and Date Inputs -->
        <div class="date-filters" *ngIf="currentTable === 'Environment'">
          <div class="date-inputs">
            <div class="dateInput1">
              <label for="start-date">{{ getTranslation("Start Date:") }}</label>
              <input
                pInputText
                type="date"
                id="start-date"
                [ngModel]="startDate ? formatDate(startDate) : null"
                (ngModelChange)="onDateChange($event, 'start')"
                [min]="minDate"
                [max]="maxDate"
                style="height: 35px; width: fit-content"
                (click)="openCalendar($event)"
              />
            </div>
            <div class="dateInput2">
              <label for="end-date">{{ getTranslation("End Date:") }}</label>
              <input
                pInputText
                type="date"
                id="end-date"
                [ngModel]="endDate ? formatDate(endDate) : null"
                (ngModelChange)="onDateChange($event, 'end')"
                [min]="minDate"
                [max]="maxDate"
                style="height: 35px; width: fit-content"
                (click)="openCalendar($event)"
              />
            </div>
          </div>
        </div>
      </div>

      <!-- Buttons -->
      <div class="button-container">
        <div class="button-frame">
          <div class="">
            <button
              *ngIf="
                userManagementData?.configurationPermissions?.environment
                  ?.enabled
              "
              class="button"
              [ngClass]="{
                'active-button': activeButton === 'Environment',
                'transition-active': isTransitioning
              }"
              (click)="showTable('Environment')"
              (click)="setActiveButton('Environment')"
            >
              {{ getTranslation("Environment") }}
            </button>

            <button
              *ngIf="
                userManagementData?.configurationPermissions?.robot?.enabled
              "
              class="button"
              [ngClass]="{
                'active-button': activeButton === 'robot',
                'transition-active': isTransitioning
              }"
              (click)="showTable('robot')"
              (click)="setActiveButton('robot')"
            >
              {{ getTranslation("Robot") }}
            </button>

            <button
              *ngIf="
                userManagementData?.configurationPermissions?.fleet?.enabled
              "
              class="button"
              [ngClass]="{
                'active-button': activeButton === 'fleet',
                'transition-active': isTransitioning
              }"
              (click)="setActiveButton('fleet')"
            >
              {{ getTranslation("Fleet") }}
            </button>
          </div>
        </div>
      </div>

      <!-- Table -->
      <div class="table-containers">
        <div class="table-container">
          <div *ngIf="tableLoader" class="loader-background">
            <div class="middle">
              <div class="bar bar1"></div>
              <div class="bar bar2"></div>
              <div class="bar bar3"></div>
              <div class="bar bar4"></div>
              <div class="bar bar5"></div>
              <div class="bar bar6"></div>
              <div class="bar bar7"></div>
              <div class="bar bar8"></div>
            </div>
          </div>

          <div class="env-table">
            <table *ngIf="currentTable === 'Environment' && !imageUploaded">
              <thead>
                <tr>
                  <th>{{ getTranslation("Map Name") }}</th>
                  <th>{{ getTranslation("Site Name") }}</th>
                  <th>{{ getTranslation("Last Created") }}</th>
                  <th
                    class="iconTable"
                    *ngIf="
                      (configurationPermissions.environment.enabled === true &&
                        configurationPermissions.environment.edit === true) ||
                      configurationPermissions.environment.delete === true
                    "
                  >
                    <div>{{ getTranslation("Edit/Delete") }}</div>
                  </th>
                  <th class="iconTable">{{ getTranslation("Pick Map") }}</th>
                  <th class="iconTable" *ngIf=" configurationPermissions.environment.enabled === true && configurationPermissions.environment.edit === true " [attr.data-content]="editButtonText">{{ getTranslation("Export Map") }}</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngIf="paginatedData.length === 0">
                  <td
                    [attr.colspan]="
                      configurationPermissions.environment.enabled &&
                      (configurationPermissions.environment.edit ||
                        configurationPermissions.environment.delete)
                        ? 5
                        : 4
                    "
                    class="no-data"
                  >
                    <div class="no-data-container">
                      <img
                        src="../assets/no-data.svg"
                        alt="No Data"
                        class="no-data-image"
                      />
                      <p class="no-data-text">
                        {{ getTranslation("No Data found") }}
                      </p>
                    </div>
                  </td>
                </tr>
                <tr
                  *ngFor="
                    let item of paginatedData;
                    index as i;
                    trackBy: trackByTaskId
                  "
                  [class.paused]="item.paused"
                >
                <td title="{{ item.mapName }}">
                  <div *ngIf="editedRowIndex !== i; else editModeMap" class="flex items-center gap-2">
                    <span>
                      {{
                        item.mapName.length > 10
                          ? (item.mapName | slice : 0 : 10) + "..."
                          : item.mapName
                      }}
                    </span>
                    <button  (click)="startEditingMap(i, item.mapName)" style="border: 0px; background: transparent;" *ngIf=" configurationPermissions.environment.enabled === true && configurationPermissions.environment.edit === true " [attr.data-content]="editButtonText" >
                      <svg width="16" height="16" viewBox="0 0 24 24" fill="black" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3 17.25V21H6.75L17.81 9.94L14.06 6.19L3 17.25ZM20.71 7.04C21.1 6.65 21.1 6.02 20.71 5.63L18.37 3.29C17.98 2.9 17.35 2.9 16.96 3.29L15.13 5.12L18.88 8.87L20.71 7.04Z"/>
                      </svg>
                    </button>
                    
                  </div>
              
                  <ng-template #editModeMap>
                    <div class="edit-container flex items-center gap-2">
                      <input
                        type="text"
                        [(ngModel)]="editedMapName"
                        (keydown.enter)="saveMapName(item)"
                        (keydown.esc)="cancelEditingMap()"
                        class="border px-2 py-1 rounded"
                      />
                      <button (click)="saveMapName(item)">✔</button>
                      <button (click)="cancelEditingMap()">❌</button>
                    </div>
                  </ng-template>
                </td>
              
                <!-- Site Name Column -->
                <td title="{{ item.siteName }}">
                  <div *ngIf="editedSiteRowIndex !== i; else editModeSite" class="flex items-center gap-2">
                    <span>
                      {{
                        item.siteName.length > 10
                          ? (item.siteName | slice : 0 : 10) + "..."
                          : item.siteName
                      }}
                    </span>
                    <button (click)="startEditingSite(i, item.siteName)" style="border: 0px; background: transparent;" *ngIf=" configurationPermissions.environment.enabled === true && configurationPermissions.environment.edit === true " [attr.data-content]="editButtonText">
                      <svg width="16" height="16" viewBox="0 0 24 24" fill="black" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3 17.25V21H6.75L17.81 9.94L14.06 6.19L3 17.25ZM20.71 7.04C21.1 6.65 21.1 6.02 20.71 5.63L18.37 3.29C17.98 2.9 17.35 2.9 16.96 3.29L15.13 5.12L18.88 8.87L20.71 7.04Z"/>
                      </svg>
                    </button>
                  </div>
              
                  <ng-template #editModeSite>
                    <div class="edit-container flex items-center gap-1">
                      <input
                        type="text"
                        [(ngModel)]="editedSiteName"
                        (keydown.enter)="saveSiteName(item)"
                        (keydown.esc)="cancelEditingSite()"
                        class="border px-2 py-1 rounded"
                      />
                      <div>
                      <button (click)="saveSiteName(item)">✔</button>
                      <button (click)="cancelEditingSite()">❌</button>
                      </div>
                    </div>
                  </ng-template>
                </td>

                  <td>
                    {{ item.date }}
                  </td>
                  <td
                    class="iconTable"
                    *ngIf="
                      (configurationPermissions.environment.enabled === true &&
                        configurationPermissions.environment.edit === true) ||
                      configurationPermissions.environment.delete === true
                    "
                  >
                    <div class="edit">
                      <button
                        class="edit-button"
                        (click)="editItem(item)"
                        *ngIf=" configurationPermissions.environment.enabled === true && configurationPermissions.environment.edit === true " [attr.data-content]="editButtonText" >
                        <svg class="edit-svgIcon" viewBox="0 0 512 512">
                          <path
                            d="M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1v32c0 8.8 7.2 16 16 16h32zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"
                          ></path>
                        </svg>
                      </button>

                      <!-- delete button -->

                      <button
                        class="delete-button"
                        (click)="openDeleteConfirmation(item)"
                        *ngIf="
                          configurationPermissions.environment.enabled ===
                            true &&
                          configurationPermissions.environment.delete == true"
                          [attr.data-content]="deleteButtonText"
                      >
                        <svg class="delete-svgIcon" viewBox="0 0 448 512">
                          <path
                            d="M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"
                          ></path>
                        </svg>
                      </button>
                    </div>
                  </td>
                  <td class="iconTable">
                    <button 
                      class="sel-btn" 
                      [ngClass]="{
                        'deselect-btn': item.mapName === this.selectedMap?.mapName, 
                        'blurred-disabled': userrole === 'User'
                      }"
                      [disabled]="userrole === 'User'"
                      (click)="selectMap(item)">
                      {{
                        item.mapName === this.selectedMap?.mapName
                          ? getTranslation('Deselect')
                          : getTranslation('Select')
                      }}
                    </button>
                  </td>
                  <td class="iconTable" *ngIf=" configurationPermissions.environment.enabled === true && configurationPermissions.environment.edit === true " [attr.data-content]="editButtonText">
                    <div class="exportBtn">
                      <button class="export-button" (click)="exportMap(item)" [attr.data-content]="exportButtonText">
                        <!-- <svg class="delete-svgIcon" viewBox="0 0 448 512">
                      <path
                        d="M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"
                      ></path>
                    </svg> -->
                        <svg
                          class="delete-svgIcon"
                          width="35"
                          height="35"
                          viewBox="0 0 35 35"
                          fill="none"
                          xmlns="http://www.w3.org/2000/svg"
                          xmlns:xlink="http://www.w3.org/1999/xlink"
                        >
                          <rect
                            width="35"
                            height="35"
                            fill="url(#pattern0_2892_1779)"
                          />
                          <defs>
                            <pattern
                              id="pattern0_2892_1779"
                              patternContentUnits="objectBoundingBox"
                              width="1"
                              height="1"
                            >
                              <use
                                xlink:href="#image0_2892_1779"
                                transform="scale(0.01)"
                              />
                            </pattern>
                            <image
                              id="image0_2892_1779"
                              width="100"
                              height="100"
                              xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACvUlEQVR4nO3dMWsUQQCG4VOsFDEpRGwlAUsFo52RmBRWFuHAWqwkFoFrLAT9F2IVwSbRYGvrD7ARsRbEQlA0liq+MjBCwLu9vd29nW+G74GFK3ZzM/ey2XC5nRsMzMzMzMzMzCwzwFHgFvAK+Ex7v4EPwD6wkXp+WQFOA6+Zr2fAidRzlQccB97Qj5fAkdRzlgY8ol/3Us9ZFnAM+NpzkO/AmdRzlwSskMbT1HOXBNxMFOQPsAUMC9hWgcWugoQfaO39Al4Ayw6i5QBY9xmiF2XJv7K0PHcQLT8bXeh9UZ+rVQfRsukgWoYOosVBxDiIGAcR4yBiig1yANwFzsYtPP6BvmKD3Bgz7o34Fr6yIoO8qxj7e7QVGWS/Yuzh40XKigyyVzH2PbQ5iBgHEeMgYhxEjIOIcRAxDiLGQcQ4iBgHEeMgYhxEjIOIcRAxDiImiyBvgTXgJHAe2Jnj/0N24nOE57oen7tP8kE+jftEOLA9hyD3x+x/CvhIf+SDPKgYx6jDIKOKYx7SH/kgt6eMZdRBkIkx4jF36I98kMc1xjNqEaQyRjzmSY/zlQ8S7lS9PGOUukHqxLgSx9AX+SDBN+BSjXFtzxDkvwv4mH0vAF96nmsWQWaNMi2IaoysghBfoIs1xjdxn7rHJ4qRXZDaZ0pTCc+MbIPMLYpAjGyDdB5FJEbWQf5FWSkoRvZBWkcRi1FEkMZRBGMUE2TmKKIxigpSO4pwjOKCTI0iHqPIIBOjZBCj2CDEW6C3Dt0WHR77tmibWbFnSK4cRIyDiHEQMQ5SQpDN1KMuWKNFMK+lHnXBrjYJshAX/TWFhZRjlLCqv3Vrt1GMGGQ5rtpm3X2D0LnGQWKUdUfpLMZaqxiHoiyFVf19TWl8zdhtfWZMCLMY/kIQ+CqhYSZbeK0WOg9hZmZmZmZmZmZmZmY2yNdfyWXb9R/oHaoAAAAASUVORK5CYII="
                            />
                          </defs>
                        </svg>
                      </button>
                    </div>
                    <!-- <button class="sel-btn">
                      {{getTranslation("Export Map")}}
                    </button> -->
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div
            *ngIf="
              currentTable === 'Environment' &&
              filteredEnvData.length == EnvData.length
            "
          >
            <div class="paginator-container" *ngIf="filteredEnvData.length > 0">
              <mat-paginator
                [length]="filteredEnvData.length"
                [pageSize]="5"
                [pageSizeOptions]="[5, 10]"
                (page)="onPageChange($event)"
                showFirstLastButtons
              >
              </mat-paginator>
            </div>
          </div>

          <table *ngIf="currentTable === 'robot' && !imageUploaded">
            <thead>
              <tr>
                <!-- <th><input type="checkbox" (change)="toggleSelectAll($event)" /></th> -->
                <th>{{ getTranslation("S.no") }}</th>
                <th>{{ getTranslation("IP Address") }}</th>
                <th>{{ getTranslation("AMR ID") }}</th>
                <th>{{ getTranslation("UUID") }}</th>
                <th>{{ getTranslation("AMR Name") }}</th>
                <th
                  class="iconTable"
                  *ngIf="
                    (configurationPermissions.robot.enabled === true &&
                      configurationPermissions.robot.edit === true) ||
                    configurationPermissions.robot.delete === true
                  "
                >
                  {{ getTranslation("Edit/Delete") }}
                </th>
              </tr>
            </thead>
            <tbody>
              <!-- Show No Data Row with image and message -->
              <!-- <tr *ngIf="paginatedData1.length === 0">
                  <td colspan="8" class="no-data">
                    <div class="no-data-container">
                      <img src="../../assets/no-data.svg" alt="No Data" class="no-data-image">
                      <p class="no-data-text">No data found</p>
                    </div>
                  </td>
                </tr> -->

              <tr *ngIf="paginatedData1.length === 0">
                <td
                  [attr.colspan]="
                    configurationPermissions.robot.enabled &&
                    (configurationPermissions.robot.edit ||
                      configurationPermissions.robot.delete)
                      ? 6
                      : 5
                  "
                  class="no-data"
                >
                  <div class="no-data-container">
                    <img
                      src="../../assets/no-data.svg"
                      alt="No Data"
                      class="no-data-image"
                    />
                    <p class="no-data-text">
                      {{ getTranslation("No Data found") }}
                    </p>
                  </div>
                </td>
                <!-- <td colspan="4" class="iconTable">No data found</td> -->
              </tr>
              <tr
                *ngFor="
                  let item of paginatedData1;
                  index as i;
                  trackBy: trackByTaskName
                "
                [class.paused]="item.paused"
              >
                <!-- <td><input type="checkbox" [(ngModel)]="item.isSimMode" /></td> -->
                <td>
                  {{
                    (paginator ? paginator.pageIndex * paginator.pageSize : 0) +
                      i +
                      1
                  }}
                </td>
                <td>{{ item.ipAdd }}</td>
                <td>{{ item.amrId }}</td>
                <td>{{ item.uuid }}</td>
                <td>{{ item.roboName }}</td>
                <td
                  class="iconTable"
                  *ngIf="
                    (configurationPermissions.robot.enabled === true &&
                      configurationPermissions.robot.edit === true) ||
                    configurationPermissions.robot.delete === true
                  "
                >
                  <div class="edit">
                    <button
                      class="edit-button"
                      (click)="editRobo(item)"
                      *ngIf="
                        configurationPermissions.robot.enabled === true &&
                        configurationPermissions.robot.edit === true
                      "
                      [attr.data-content]="editButtonText"
                    >
                      <svg class="edit-svgIcon" viewBox="0 0 512 512">
                        <path
                          d="M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1v32c0 8.8 7.2 16 16 16h32zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"
                        ></path>
                      </svg>
                    </button>

                    <!-- delete button -->

                    <button
                      class="delete-button"
                      (click)="openDeleteConfirmation(item)"
                      *ngIf="
                        configurationPermissions.robot.enabled === true &&
                        configurationPermissions.robot.delete === true
                      "
                      [attr.data-content]="deleteButtonText"
                    >
                      <svg class="delete-svgIcon" viewBox="0 0 448 512">
                        <path
                          d="M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"
                        ></path>
                      </svg>
                    </button>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
          <div *ngIf="currentTable === 'robot'">
            <div
              class="paginator-container"
              *ngIf="filteredRobotData.length > 0"
            >
              <mat-paginator
                [length]="filteredRobotData.length"
                [pageSize]="5"
                [pageSizeOptions]="[5, 10]"
                (page)="onPageChanges($event)"
                showFirstLastButtons
              >
              </mat-paginator>
            </div>
          </div>
          <!-- <button
              class="ASR-button"
              *ngIf="currentTable === 'robot'"
              (click)="openRobotParametersPopup()"
            >
              Add Selected Robots
            </button> -->

          <div class="popup-overlay" *ngIf="showRobotParametersPopup">
            <app-robot-parameters-popup
              (close)="closeRobotParametersPopup()"
            ></app-robot-parameters-popup>
          </div>
          <!-- Add this in your main component HTML -->
          <div
            class="form-group"
            *ngIf="
              currentTable === 'robot' &&
              configurationPermissions.robot.enabled === true &&
              configurationPermissions.robot.create == true
            "
          >
            <label for="ipRangeFrom">{{ getTranslation("IP Range") }}:</label>
            <div class="uservalid">
              <input
                pInputText
                id="ipRangeFrom"
                type="text"
                placeholder="255.255.0.0"
                [(ngModel)]="startIP"
                name="startIP"
                pattern="^([0-9]{1,3}\.){3}[0-9]{1,3}$"
                #startIPInput="ngModel"
                required
              />
              <span
                *ngIf="startIPInput.invalid && startIPInput.touched"
                class="error"
              >
                <!-- Invalid IP Address -->
              </span>
            </div>

            <span>{{ getTranslation("to") }}: </span>
            <div class="uservalid">
              <input
                pInputText
                id="ipRangeTo"
                type="text"
                placeholder="255.255.0.0"
                [(ngModel)]="EndIP"
                name="endIP"
                pattern="^([0-9]{1,3}\.){3}[0-9]{1,3}$"
                #endIPInput="ngModel"
                required
              />
              <span
                *ngIf="endIPInput.invalid && endIPInput.touched"
                class="error"
              >
                <!-- Invalid IP Address -->
              </span>
            </div>

            <button
              type="button"
              class="start-button"
              (click)="startScanning()"
              [disabled]="!isMapAvailable()"
            >
              {{ getTranslation("Scan") }}
            </button>
            <button
              type="button"
              class="stop-button"
              (click)="stopScanning()"
              [disabled]="!isMapAvailable()"
            >
              {{ getTranslation("Stop") }}
            </button>
            <div *ngIf="isScanning" class="loading-spinner"></div>
          </div>

          <div class="popup-overlay" *ngIf="showIPScannerPopup">
            <app-ipscanner
              *ngIf="showIPScannerPopup"
              (close)="closeIPScanner()"
            ></app-ipscanner>
          </div>

          <table
            *ngIf="
              currentTable === 'robot' &&
              configurationPermissions.robot.enabled === true &&
              configurationPermissions.robot.create == true
            "
          >
            <thead>
              <tr>
                <th>{{ getTranslation("IP") }}</th>
                <th>{{ getTranslation("MAC") }}</th>
                <th>{{ getTranslation("Hostname") }}</th>
                <th>{{ getTranslation("Ping") }}</th>
                <th>{{ getTranslation("Status") }}</th>
                <th class="iconTable">{{ getTranslation("Option") }}</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngIf="ipScanData.length === 0">
                <!-- <td colspan="6" class="iconTable">No data found</td> -->
                <td colspan="6" class="no-data">
                  <div class="no-data-container">
                    <img
                      src="../../assets/no-data.svg"
                      alt="No Data"
                      class="no-data-image"
                    />
                    <p class="no-data-text">
                      {{ getTranslation("No Data found") }}
                    </p>
                  </div>
                </td>
              </tr>
              <tr
                *ngFor="
                  let item of ipScanData;
                  index as i;
                  trackBy: trackByTaskId
                "
                [class.paused]="item.paused"
              >
                <td>{{ item.ip }}</td>
                <td>{{ item.mac }}</td>
                <td>{{ item.host }}</td>
                <td>{{ item.ping }}</td>
                <td>{{ item.Status }}</td>
                <td class="iconTable">
                  <!-- Add icon -->
                  <button (click)="openPopup(item)" class="icon-button">
                    <!-- You can use Font Awesome or any other icon library -->
                    <img alt="" src="../../assets/icons/add.svg" />
                  </button>
                </td>
              </tr>
            </tbody>
          </table>

          <div
            class="paginator-container"
            *ngIf="currentTable === 'robot' && !imageUploaded"
          >
            <!-- <mat-paginator
                [length]="ipScanData.length"
                [pageSize]="5"
                [pageSizeOptions]="[5, 10, 15]"
                (page)="onPageChange($event)"
                showFirstLastButtons
              >
              </mat-paginator> -->
          </div>

          <div *ngIf="currentTab === 'fleet'">
            <ul class="tab-menu" style="font-size: 18px; font-family: 'Graphik', Arial, sans-serif; font-weight: bolder;">
              <li
                [class.active]="fleetTab === 'general'"
                (click)="setFleetTab('general')"
              >
                {{ getTranslation("General") }}
              </li>
              <li
              [class.active]="fleetTab === 'robot'"
              (click)="setFleetTab('robot')"
              >
              {{ getTranslation("Robot") }} 
              </li>
              <!-- <li
                  [class.active]="fleetTab === 'planner'"
                  (click)="setFleetTab('planner')"
                >
                Planner
              </li>
              <li
                  [class.active]="fleetTab === 'task'"
                  (click)="setFleetTab('task')"
                >
                Task
              </li>
                <li
                  [class.active]="fleetTab === 'battery'"
                  (click)="setFleetTab('battery')"
                >
                Battery
              </li>
                <li
                  [class.active]="fleetTab === 'communication'"
                  (click)="setFleetTab('communication')"
                >
                Communication
              </li> -->
            </ul>

            <div *ngIf="fleetTab === 'general'">
              <h2>{{ getTranslation("Edit The Fleet Parameters") }}</h2>
              <!-- {{ getTranslation("Add content for the General tab.") }} -->
              <app-general></app-general>
            </div>
            <div *ngIf="fleetTab === 'robot'">
              <h2>{{getTranslation('EDIT_THE_ROBOT_PARAMETERS')}}</h2>
              <app-robot></app-robot>
            </div>

            <div *ngIf="fleetTab === 'planner'">
              <h2>Planner Settings</h2>
              Add content for the Planner tab
              <app-planner></app-planner>
            </div>
            <div *ngIf="fleetTab === 'task'">
              <h2>Task Management</h2>
              Add content for the Task tab
              <app-task></app-task>
            </div>
            <div *ngIf="fleetTab === 'battery'">
              <h2>Battery Information</h2>
              Add content for the Battery tab
              <app-battery></app-battery>
            </div>
            <div *ngIf="fleetTab === 'communication'">
              <h2>Communication Settings</h2>
              <app-communication></app-communication>
            </div>
          </div>
          <!-- <p-speeddial  direction="up" [style]="{ position: 'fixed', right: 0, bottom: 0, zIndex:1002 }" [buttonProps]="{ severity: 'danger', rounded: true }" [tooltipOptions]="{ tooltipPosition: 'right' }" /> -->
          <div
            class="Create-button-container"
            *ngIf="
              currentTable === 'Environment' &&
              configurationPermissions.environment.create == true
            "
          >
            <p-speedDial 
            *ngIf="currentTable === 'Environment'"
              [model]="items"
              direction="left"
              [style]="{
                position: 'absolute',
                right: 0,
                bottom: 0,
                zIndex: 1002
              }"
              [buttonProps]="{ severity: 'danger', rounded: true }"
              [tooltipOptions]="{ tooltipPosition: 'top' }"
            />
          </div>
          <app-envmap
            *ngIf="showImageUploadPopup"
            [EnvData]="this.EnvData"
            [currEditMap]="this.currEditMap"
            [mapEdit]="this.onMapEdit"
            [currEditMapDet]="this.currEditMapDet"
            (save)="onPopupSave()"
            (closePopup)="closeImageUploadPopup()"
            (currEditMapChange)="onCurrEditMapChange($event)"
            (refreshTable)="reloadTable()"
          >
          </app-envmap>
        </div>
      </div>

      <!-- Popup form -->
      <div *ngIf="isPopupOpen" class="Robo-popup-overlay" formGroup="formData">
        <div class="robopopup-content">
          <div>
            <form (ngSubmit)="saveItem()" formGroup="formData">
              <div class="modal-header">
                <span
                  class="close-icon close-button"
                  (click)="closeroboPopup()"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    width="24"
                    height="24"
                  >
                    <path fill="none" d="M0 0h24v24H0z" />
                    <path
                      d="M12 10.586l4.95-4.95 1.414 1.414L13.414 12l4.95 4.95-1.414 1.414L12 13.414l-4.95 4.95-1.414-1.414L10.586 12 5.636 7.05l1.414-1.414L12 10.586z"
                    /></svg
                ></span>
                <h2>{{ getTranslation("Add Robot") }}</h2>
              </div>

              <div class="rob-inp">
                <label
                  for="robotName"
                  style="margin-right: 1rem; margin-left: 1rem"
                  >{{ getTranslation("Robot Name") }}:</label
                >
                <input
                  pInputText
                  type="text"
                  id="robotName"
                  [(ngModel)]="formData.robotName"
                  name="robotName"
                  required
                />

                <label
                  for="manufacturer"
                  style="margin-right: 1rem; margin-left: 1rem"
                  >{{ getTranslation("Manufacturer") }}:</label
                >
                <input
                  pInputText
                  type="text"
                  id="manufacturer"
                  [(ngModel)]="formData.manufacturer"
                  name="manufacturer"
                  required
                />

                <label
                  for="serialNumber"
                  style="margin-right: 1rem; margin-left: 1rem"
                  >{{ getTranslation("Serial Number") }}:</label
                >
                <input
                  pInputText
                  type="text"
                  id="serialNumber"
                  [(ngModel)]="formData.serialNumber"
                  name="serialNumber"
                  required
                />
              </div>
              <div
                style="
                  margin-top: 1rem;
                  margin-right: 1rem;
                  margin-left: 1rem;
                  margin-bottom: 1rem;
                "
              >
                <label
                  for="attachmentType"
                  style="margin-right: 1rem; margin-left: 1rem"
                  >{{ getTranslation("Attachment Type") }}:</label
                >
                <select
                  id="attachmentType"
                  [(ngModel)]="formData.attachmentType"
                  name="attachmentType"
                  required
                  style="padding: 0.6rem"
                >
                  <option value="NOT_SET">
                    {{ getTranslation("NOT_SET") }}
                  </option>
                  <option value="LIFTER">{{ getTranslation("LIFTER") }}</option>
                  <option value="SINGLECONVEYOR">
                    {{ getTranslation("SINGLECONVEYOR") }}
                  </option>
                  <option value="TWINCONVEYOR">
                    {{ getTranslation("TWINCONVEYOR") }}
                  </option>
                </select>
              </div>
              <div class="flex">
                <div class="robBTN-inp">
                  <button
                    class="rob-btn"
                    [ngClass]="{ 'active-btn': isTypeSpecificationFormVisible }"
                    (click)="toggleTypeSpecificationForm($event)"
                    id="typeSpecificationLink"
                  >
                    {{ getTranslation("Type Specification") }}
                  </button>
                </div>

                <div class="robBTN-inp">
                  <button
                    class="rob-btn"
                    [ngClass]="{ 'active-btn': isProtocolLimitsFormVisible }"
                    (click)="toggleProtocolLimitsForm($event)"
                    id="protocolLimitsLink"
                  >
                    {{ getTranslation("Protocol Limits") }}
                  </button>
                </div>

                <div class="robBTN-inp">
                  <button
                    class="rob-btn"
                    [ngClass]="{ 'active-btn': isProtocolFeaturesFormVisible }"
                    (click)="toggleProtocolFeaturesForm($event)"
                    id="protocolFeaturesLink"
                  >
                    {{ getTranslation("Protocol Features") }}
                  </button>
                </div>

                <div class="robBTN-inp">
                  <button
                    class="rob-btn"
                    [ngClass]="{ 'active-btn': isAGVGeometryFormVisible }"
                    (click)="toggleAGVGeometryForm($event)"
                    id="agvGeometryLink"
                  >
                    {{ getTranslation("AGV Geometry") }}
                  </button>
                </div>

                <div class="robBTN-inp">
                  <button
                    class="rob-btn"
                    [ngClass]="{ 'active-btn': isLoadSpecificationFormVisible }"
                    (click)="toggleLoadSpecificationForm($event)"
                    id="loadSpecificationLink"
                  >
                    {{ getTranslation("Load Specification") }}
                  </button>
                </div>

                <div class="robBTN-inp">
                  <button
                    class="rob-btn"
                    [ngClass]="{
                      'active-btn': isLocalizationParametersFormVisible
                    }"
                    (click)="toggleLocalizationParametersForm($event)"
                    id="localizationParametersLink"
                  >
                    {{ getTranslation("Localization Parameters") }}
                  </button>
                </div>
              </div>
              <!-- <div class="btn-rob">
        <button pButton class="p-button1" type="submit">Save</button>
        <button pButton class="p-button1" type="button" (click)="closeroboPopup()">Close</button>
      </div> -->
            </form>
          </div>
          <div class="Sub-form">
            <div
              *ngIf="isLocalizationParametersFormVisible"
              class="localization-parameters-form"
            >
              <!-- Localization Parameters form fields here -->
              <div class="rob-inp">
                <label for="localizationType"
                  >{{ getTranslation("Localization Type") }}:</label
                >
                <input
                  pInputText
                  type="text"
                  id="localizationType"
                  [(ngModel)]="formData.localizationParameters.type"
                  name="localizationType"
                  style="text-align: center"
                />

                <label for="localizationDescription"
                  >{{ getTranslation("Localization Description") }}:</label
                >
                <input
                  pInputText
                  type="text"
                  id="localizationDescription"
                  [(ngModel)]="formData.localizationParameters.description"
                  name="localizationDescription"
                  style="text-align: center"
                />
              </div>
              <div>
                <!-- <button pButton type="button" (click)="saveLocalizationParameters()">
            Save
          </button> -->
                <!-- <button
            pButton
            type="button"
            (click)="closeLocalizationParametersForm()"
          >
            Close
          </button> -->
              </div>
            </div>

            <div
              *ngIf="isLoadSpecificationFormVisible"
              class="load-specification-form"
            >
              <!-- Load Specification form fields here -->
              <div class="rob-inp">
                <label for="loadPositions"
                  >{{ getTranslation("Load Positions") }}:</label
                >
                <input
                  pInputText
                  type="text"
                  id="loadPositions"
                  [(ngModel)]="formData.loadSpecification.loadPositions"
                  name="loadPositions"
                  style="text-align: center"
                />

                <label for="loadSets">{{ getTranslation("Load Sets") }}:</label>
                <input
                  pInputText
                  type="text"
                  id="loadSets"
                  [(ngModel)]="formData.loadSpecification.loadSets"
                  name="loadSets"
                  style="text-align: center"
                />
              </div>
              <div>
                <!-- <button pButton type="button" (click)="saveLoadSpecification()">
            Save
          </button> -->
                <!-- <button pButton type="button" (click)="closeLoadSpecificationForm()">
            Close
          </button> -->
              </div>
            </div>

            <div *ngIf="isAGVGeometryFormVisible" class="agv-geometry-form">
              <!-- AGV Geometry form fields here -->
              <div class="rob-inp">
                <label for="wheelDefinitions" style="margin-right: 1.2rem"
                  >{{ getTranslation("Wheel Definitions") }}:</label
                >
                <input
                  pInputText
                  type="text"
                  id="wheelDefinitions"
                  [(ngModel)]="formData.agvGeometry.wheelDefinitions"
                  name="wheelDefinitions"
                  style="text-align: center"
                />

                <label for="envelopes2d"
                  >{{ getTranslation("Envelopes 2D") }}:</label
                >
                <input
                  pInputText
                  type="text"
                  id="envelopes2d"
                  [(ngModel)]="formData.agvGeometry.envelopes2d"
                  name="envelopes2d"
                  style="text-align: center"
                />
              </div>
              <div class="rob-inp3">
                <label for="envelopes3d"
                  >{{ getTranslation("Envelopes 3D") }}:</label
                >
                <input
                  pInputText
                  type="text"
                  id="envelopes3d"
                  [(ngModel)]="formData.agvGeometry.envelopes3d"
                  style="margin-right: 0.1rem; text-align: center"
                  name="envelopes3d"
                />
              </div>
              <div>
                <!-- <button pButton type="button" (click)="saveAGVGeometry()">
            Save
          </button> -->
                <!-- <button pButton type="button" (click)="closeAGVGeometryForm()">
            Close
          </button> -->
              </div>
            </div>

            <div
              *ngIf="isProtocolFeaturesFormVisible"
              class="protocol-features-form"
            >
              <!-- Protocol Features form fields here -->
              <div class="rob-inp2">
                <label for="optionalParameters"
                  >{{ getTranslation("optionalParameters") }}:</label
                >
                <input
                  pInputText
                  type="text"
                  id="optionalParameters"
                  [(ngModel)]="formData.protocolFeatures.optionalParameters"
                  name="optionalParameters"
                  class="inputype"
                  style="text-align: center"
                />

                <label for="actionScopes"
                  >{{ getTranslation("actionScopes") }}:</label
                >
                <input
                  pInputText
                  type="text"
                  id="actionScopes"
                  [(ngModel)]="formData.protocolFeatures.actionScopes"
                  name="actionScopes"
                  class="inputype"
                  style="text-align: center"
                />
              </div>
              <div class="rob-inp2" style="margin-left: 23px">
                <label for="actionParameters" style="margin-right: 0.5rem"
                  >{{ getTranslation("actionParameters") }}:</label
                >
                <input
                  pInputText
                  type="text"
                  id="actionParameters"
                  [(ngModel)]="formData.protocolFeatures.actionParameters"
                  name="actionParameters"
                  class="inputype"
                  style="text-align: center"
                />

                <label for="resultDescription"
                  >{{ getTranslation("resultDescription") }}:</label
                >
                <input
                  pInputText
                  type="text"
                  id="resultDescription"
                  [(ngModel)]="formData.protocolFeatures.resultDescription"
                  name="resultDescription"
                  class="inputype"
                  style="text-align: center"
                />
              </div>
              <div>
                <!-- <button pButton type="button" (click)="saveProtocolFeatures()">
            Save
          </button> -->
                <!-- <button pButton type="button" (click)="closeProtocolFeaturesForm()">
            Close
          </button> -->
              </div>
            </div>

            <div
              *ngIf="isProtocolLimitsFormVisible"
              class="protocol-limits-form"
            >
              <!-- Protocol Limits form fields here -->
              <div class="rob-inp">
                <label for="maxStringLens" style="margin-right: 1.5rem"
                  >{{ getTranslation("maxStringLens") }}:</label
                >
                <input
                  pInputText
                  type="text"
                  id="maxStringLens"
                  [(ngModel)]="formData.protocolLimits.maxStringLens"
                  name="maxStringLens"
                  class="inputype"
                  style="text-align: center"
                />

                <label for="maxArrayLens"
                  >{{ getTranslation("maxArrayLens") }}:</label
                >
                <input
                  pInputText
                  type="text"
                  id="maxArrayLens"
                  [(ngModel)]="formData.protocolLimits.maxArrayLens"
                  name="maxArrayLens"
                  class="inputype"
                  style="text-align: center"
                />
              </div>
              <div class="rob-inp3">
                <label for="timing">{{ getTranslation("timing") }}:</label>
                <input
                  pInputText
                  type="text"
                  id="timing"
                  [(ngModel)]="formData.protocolLimits.timing"
                  style="margin-right: 0.2rem; text-align: center"
                  name="timing"
                  class="inputype"
                />
              </div>
              <div>
                <!-- <button pButton type="button" (click)="saveProtocolLimits()">
            Save
          </button>
          <button pButton type="button" (click)="reset()">
            Clear
          </button> -->
                <!-- <button pButton type="button" (click)="closeProtocolLimitsForm()">
            Close
          </button> -->
              </div>
            </div>

            <div
              *ngIf="isTypeSpecificationFormVisible"
              class="type-specification-form"
            >
              <div class="rob-inp">
                <label for="seriesName" style="margin-right: 3.3rem"
                  >{{ getTranslation("seriesName") }}:</label
                >
                <input
                  pInputText
                  type="text"
                  id="seriesName"
                  [(ngModel)]="formData.typeSpecification.seriesName"
                  name="seriesName"
                  class="inputype"
                  style="margin-right: 1rem; text-align: center"
                />

                <label for="seriesDescription"
                  >{{ getTranslation("seriesDescription") }}:</label
                >
                <input
                  pInputText
                  type="text"
                  id="seriesDescription"
                  [(ngModel)]="formData.typeSpecification.seriesDescription"
                  name="seriesDescription"
                  class="inputype"
                  style="text-align: center"
                />
              </div>
              <div class="rob-inp1">
                <label for="agvKinematic"
                  >{{ getTranslation("agvKinematic") }}:</label
                >
                <p-dropdown
                  [options]="agvKinematicsOptions"
                  id="agvKinematic"
                  [(ngModel)]="formData.typeSpecification.agvKinematic"
                  name="agvKinematic"
                  optionLabel="name"
                  optionValue="value"
                  placeholder="Select AGV Kinematic"
                  styleClass="custom-dropdown"
                ></p-dropdown>

                <label for="agvClass">{{ getTranslation("agvClass") }}:</label>
                <p-dropdown
                  [options]="agvClassOptions"
                  id="agvClass"
                  [(ngModel)]="formData.typeSpecification.agvClass"
                  name="agvClass"
                  optionLabel="name"
                  optionValue="value"
                  placeholder="Select AGV Class"
                  styleClass="custom-dropdown"
                ></p-dropdown>
              </div>

              <div class="rob-inp2">
                <label for="maxLoadMass"
                  >{{ getTranslation("maxLoadMass") }}:</label
                >
                <input
                  pInputText
                  type="number"
                  id="maxLoadMass"
                  [(ngModel)]="formData.typeSpecification.maxLoadMass"
                  name="maxLoadMass"
                  class="inputype"
                  style="margin-right: 1.2rem; text-align: center"
                />

                <label for="localizationTypes"
                  >{{ getTranslation("localizationTypes") }}:</label
                >
                <p-dropdown
                  [options]="localizationTypes"
                  id="localizationTypes"
                  [(ngModel)]="formData.typeSpecification.localizationTypes"
                  name="localizationTypes"
                  optionLabel="name"
                  optionValue="value"
                  placeholder="Select Localization Types"
                  styleClass="custom-dropdown"
                ></p-dropdown>
              </div>
              <div class="rob-inp3">
                <label for="navigationTypes" style="margin-right: 2rem"
                  >{{ getTranslation("navigationTypes") }}:</label
                >
                <p-dropdown
                  [options]="navigationTypes"
                  id="navigationTypes"
                  [(ngModel)]="formData.typeSpecification.navigationTypes"
                  name="navigationTypes"
                  optionLabel="name"
                  optionValue="value"
                  placeholder="Select Navigation Types"
                  [style]="{ 'margin-right': '1.2rem' }"
                  styleClass="custom-dropdown"
                ></p-dropdown>
              </div>
              <!-- <button pButton type="button" (click)="saveTypeSpecification()">
          Save
        </button> -->
              <!-- <button pButton type="button" (click)="closeTypeSpecificationForm()">
          Close
        </button> -->
            </div>
          </div>
          <div class="btn-rob">
            <button
              pButton
              class="p-button1"
              type="submit"
              (click)="saveRoboInfo()"
            >
              {{ getTranslation("submit") }}
            </button>
            <!-- <button pButton class="p-button1" type="button" (click)="closeroboPopup()">Close</button> -->
          </div>
        </div>
      </div>

      <div *ngIf="showConfirmationDialog" class="confirmation-dialog">
        <div class="popup-content1">
          <h2>{{ getTranslation("confirmDeleteTitle") }}</h2>
          <p>{{ getTranslation("confirmDeleteMessage") }}</p>
          <div>
            <button (click)="confirmDelete()" class="confirm-button">
              {{ getTranslation("delete") }}
            </button>
            <button (click)="cancelDelete()" class="cancel-button">
              {{ getTranslation("cancel") }}
            </button>
          </div>
        </div>
      </div>
      <div *ngIf="showImportPopup" class="confirmation-dialog">
        <div class="popup-content1">
        <div>
        <h3 style="color: #ff7373;">{{getTranslation('Import Map')}}</h3>
        <!-- Image for file upload -->
        <label for="fileInput" class="upload-image" >
          <img src="../../assets/icons/arrow-down-circle.svg" alt="Upload" />
          <p class="ImpText">{{ getTranslation(this.selectedFileName) }}</p>
          <input
            type="file"
            id="fileInput" 
            (change)="onFileSelected($event)"  
            style="display: none"
            accept=".zip"
            />
        </label>
      </div>
        <!-- Display selected file name -->
        <!-- <div  class="file-name">{{  }}</div> -->
         <div class="BTN-set">
          <button  (click)="importFile()" class="cancel-button">
            {{ getTranslation("Open") }}
          </button>
          <button (click)="cancelDelete()" class="cancel-button">
            {{ getTranslation("cancel") }}
          </button>
        </div>
        </div>
      </div>
    </div>
  </div>
</div>
